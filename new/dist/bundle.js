/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./src/index.js":
/*!**********************!*\
  !*** ./src/index.ts ***!
  \**********************/
/***/ (() => {

eval("function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar Controller = /*#__PURE__*/function () {\n  function Controller() {\n    _classCallCheck(this, Controller);\n\n    _defineProperty(this, \"model\", {\n      items: []\n    });\n  }\n\n  _createClass(Controller, [{\n    key: \"getTodos\",\n    value: function () {\n      var _getTodos = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n        var _this = this;\n\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return fetch('https://jsonplaceholder.typicode.com/todos?_limit=5', {\n                  headers: {\n                    \"Content-type\": \"application/json: charset=YTF-8\"\n                  }\n                }).then(function (res) {\n                  return res.json();\n                }).then(function (todos) {\n                  return _this.model.items = todos;\n                });\n\n              case 2:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      function getTodos() {\n        return _getTodos.apply(this, arguments);\n      }\n\n      return getTodos;\n    }()\n  }, {\n    key: \"Init\",\n    value: function () {\n      var _Init = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return this.getTodos();\n\n              case 2:\n                view.render();\n\n              case 3:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function Init() {\n        return _Init.apply(this, arguments);\n      }\n\n      return Init;\n    }()\n  }, {\n    key: \"addItem\",\n    value: function addItem(item) {\n      var list_item = {\n        title: item,\n        completed: false\n      };\n      this.model.items.push(list_item);\n      console.log(list_item);\n      document.getElementById(\"add-item\").value = \"\"; // localStorage.setItem('test', list_item);\n\n      view.render();\n    }\n  }, {\n    key: \"completeItem\",\n    value: function completeItem(item_index) {\n      this.model.items[item_index].completed = !this.model.items[item_index].completed;\n      console.log(this.model.items[item_index].completed);\n      view.render();\n    }\n  }, {\n    key: \"deleteItem\",\n    value: function deleteItem(item_index) {\n      this.model.items.splice(item_index, 1);\n      view.render();\n    }\n  }]);\n\n  return Controller;\n}();\n\nvar View = /*#__PURE__*/function () {\n  function View(model) {\n    _classCallCheck(this, View);\n\n    this.model = model;\n  }\n\n  _createClass(View, [{\n    key: \"clearToDoList\",\n    value: function clearToDoList() {\n      var scope = document.createRange();\n      scope.selectNodeContents(document.getElementById(\"list\"));\n      scope.deleteContents();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      // this.getPhotos()\n      this.clearToDoList();\n\n      if (this.model.items.length) {\n        var list = document.getElementById(\"list\");\n\n        for (var i = this.model.items.length - 1; i >= 0; i--) {\n          console.log(this.model.items[i]);\n          var item = document.createElement('li');\n          var span = document.createElement('span');\n          var check = document.createElement('a');\n          var cross = document.createElement('a');\n          var iconCheck = document.createElement('i');\n          var iconCross = document.createElement('i');\n          item.className = \"item\";\n          span.className = \"item-text\";\n          check.className = \"item-complete\";\n          cross.className = \"item-delete\";\n          span.textContent = this.model.items[i].title;\n\n          if (this.model.items[i].completed) {\n            span.setAttribute(\"style\", \"text-decoration: line-through; color: #bbb\");\n          }\n\n          iconCheck.setAttribute(\"class\", \"icon ion-md-checkmark\");\n          iconCheck.setAttribute(\"data-id\", i);\n          iconCross.setAttribute(\"class\", \"icon ion-md-trash\");\n          iconCross.setAttribute(\"data-id\", i);\n          check.setAttribute(\"onclick\", \"controller.completeItem('\" + i + \"')\");\n          cross.setAttribute(\"onclick\", \"controller.deleteItem('\" + i + \"')\");\n          check.appendChild(iconCheck);\n          cross.appendChild(iconCross);\n          item.appendChild(span);\n          item.appendChild(check);\n          item.appendChild(cross);\n          list.appendChild(item);\n          console.log('model: ', this.model.items);\n        }\n      }\n    }\n  }, {\n    key: \"addItem\",\n    value: function addItem(e) {\n      if (e.code === \"Enter\" || e.code === \"NumpadEnter\") {\n        if (document.getElementById(\"add-item\").value !== \"\" && document.getElementById(\"add-item\").value !== \" \") {\n          var item = document.getElementById(\"add-item\").value;\n          controller.addItem(item); // localStorage.setItem('test', list_item);\n          //   let localStorage.item ? [] : JSON.parse(localStorage.getItem('tasks'));\n\n          return false;\n        }\n      }\n    }\n  }]);\n\n  return View;\n}();\n\nvar controller = new Controller();\nvar view = new View(controller.model);\ncontroller.Init();\n\n//# sourceURL=webpack://packege-name/./src/index.ts?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval devtool is used.
/******/ 	var __webpack_exports__ = {};
/******/ 	__webpack_modules__["./src/index.js"]();
/******/ 	
/******/ })()
;